---
import OptimizedImage from "./OptimizedImage.astro";
import siteContent from "../data/siteContent.json";
const hero = siteContent.hero;
const heroImages = hero.images ?? [
  "https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=1920",
];
---

<section
  class="relative min-h-[70dvh] flex items-center justify-center overflow-hidden pb-32"
>
  <!-- Background Slideshow -->
  <div class="absolute inset-0 z-0">
    <div
      class="hero-slides absolute inset-0 pointer-events-none"
      aria-hidden="true"
    >
      {
        heroImages.map((image, index) => (
          <div
            class="hero-slide relative w-full h-full"
            style={`animation-delay: ${index * 6}s; opacity: 0;`}
          >
            <OptimizedImage
              src={image}
              alt="Hero Background"
              class="absolute inset-0 w-full h-full object-cover"
              loading={index === 0 ? "eager" : "lazy"}
            />
          </div>
        ))
      }
    </div>
    <div
      class="absolute inset-0"
      style="background: linear-gradient(to bottom, rgba(0,0,0,0.2), rgba(0,0,0,0.5));"
    >
    </div>
  </div>

  <div class="relative z-10 max-w-3xl mx-4 sm:mx-auto text-center space-y-6">
    <div
      class="inline-flex items-center justify-center gap-2 px-3 py-1 rounded-full bg-black/40 border border-white/10 mb-2"
    >
      <span class="text-green-400 animate-pulse text-[10px]">●</span>
      <p class="text-xs font-semibold uppercase tracking-widest text-white">
        <span class="lang-en">Trusted by 1,000+ Families</span>
        <span class="lang-ta">1,000+ குடும்பங்களின் நம்பிக்கை</span>
      </p>
    </div>

    <h1
      class="text-3xl sm:text-5xl lg:text-6xl font-extrabold text-white leading-tight drop-shadow-xl mb-4"
    >
      <span class="lang-en block">Premium Taxi Service in Chennai</span>
      <span
        class="lang-en block text-2xl sm:text-3xl lg:text-4xl text-yellow-300 mt-2 font-bold"
        >Temple Tours & Corporate Travel</span
      >

      <span class="lang-ta block">சென்னையில் சிறந்த டாக்ஸி சேவை</span>
      <span
        class="lang-ta block text-xl sm:text-2xl lg:text-3xl text-yellow-300 mt-2 font-bold"
        >கோவில் சுற்றுலா & கார்ப்பரேட் பயணங்கள்</span
      >
    </h1>

    <p
      class="text-base sm:text-lg text-white/95 font-medium drop-shadow-md px-4 max-w-2xl mx-auto"
    >
      <span class="lang-en"
        >Experience safe, reliable, and comfortable outstation cabs, pilgrims
        packages, and employee transportation with standard rates.</span
      >
      <span class="lang-ta"
        >பாதுகாப்பான மற்றும் வசதியான வெளியூர் பயணங்கள், ஆன்மீகச் சுற்றுலா
        மற்றும் அலுவலகப் போக்குவரத்துக்கு எங்களை அணுகவும்.</span
      >
    </p>
  </div>

  <!-- Scroll Indicator -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
    <svg
      class="w-6 h-6 text-white"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
    </svg>
  </div>
</section>

<style is:inline>
  .hero-slides {
    position: absolute;
    inset: 0;
    overflow: hidden;
    mix-blend-mode: normal;
  }

  .hero-slide {
    position: absolute;
    inset: 0;
    /* Opacity handled by animation */
    /* background properties removed as we use img tag now */
    animation: heroCinematic 24s ease-in-out infinite;
    animation-fill-mode: both;
    filter: saturate(1.1);
  }

  @keyframes heroCinematic {
    0% {
      opacity: 0;
      transform: scale(1.08);
    }
    10% {
      opacity: 1;
      transform: scale(1);
    }
    30% {
      opacity: 1;
      transform: scale(1.02);
    }
    40% {
      opacity: 0;
      transform: scale(1.1);
    }
    100% {
      opacity: 0;
      transform: scale(1.08);
    }
  }
</style>
